// Path: /root/begasist/seeds/system_playbook.seed.jsonl
{"_id":"spb-reservation-flow-v1-es","scope":"global","version":"1.0.0","language":"spa","category":"reservation","promptKey":"reservation_flow","skills":["slot_filling","urgency","rapport"],"state_rules":{"states":["draft","confirmed","cancelled"],"transitions":[{"from":"draft","to":"confirmed","require":["guestName","roomType","checkIn","checkOut"]},{"from":"draft","to":"cancelled"},{"from":"confirmed","to":"cancelled"}],"notes":["Si existe draft activo: 'modificar' NO es 'cancelar'.","Antes de confirmar: validar fechas/ocupación."]},"policies":{"ambiguity":"preguntar con 1-2 repreguntas máximas","conflictResolution":"hotel_overrides_system","tone":"cálido, claro, profesional"},"response_templates":{"draft_create":"Tengo disponibilidad para **{roomType}** {dates}. ¿Confirmo a nombre de **{guestName}**?","draft_missing_fields":"Para avanzar, necesito: {missingFields}.","confirm":"✅ Reserva confirmada #**{code}** • {roomType} • {dates}.","cannot_confirm":"No pude confirmar por: {reason}. ¿Querés intentar otras fechas?"},"examples":[{"u":"quiero reservar","a":"¿Para qué fechas y tipo de habitación? (si ya tengo datos, presento borrador)"}],"telemetry_hints":["time_to_confirm","fill_rate_missing_fields"],"text":"Playbook global: flujo de reservas. Regla: si hay borrador activo, continuar completándolo; confirmar sólo con datos completos; tono cordial con urgencia moderada."}
{"_id":"spb-modify-reservation-v1-es","scope":"global","version":"1.0.0","language":"spa","category":"reservation","promptKey":"modify_reservation","skills":["slot_filling","problem_solving"],"state_rules":{"preconditions":["si draft: modificar campos del draft","si confirmed: solicitar código de reserva y campos a cambiar"],"notes":["Modificar ≠ cancelar. Si usuario dice 'modificar' pero no hay draft/confirmada: aclarar y ofrecer crear/recuperar."]},"policies":{"confirmation_required":"sí, tras cambios sustantivos","tone":"empático y preciso"},"response_templates":{"modify_draft":"Actualicé el borrador: {changes}. ¿Confirmo estos cambios?","ask_code_for_confirmed":"¿Tenés el código de reserva para modificarla?","modified_confirmed":"Listo, apliqué cambios a la reserva **{code}**: {changes}."},"examples":[{"u":"quiero modificar esa reserva","a":"Si hay draft activo: '¿Qué querés cambiar: fechas o tipo?'. Si confirmada: '¿Me pasás el código?'."}],"telemetry_hints":["modify_attempts","modify_success"],"text":"Playbook global: modificación de reservas. Diferenciar borrador vs confirmada; pedir código si ya está confirmada; reconfirmar siempre los cambios."}
{"_id":"spb-ambiguity-policy-v1-es","scope":"global","version":"1.0.0","language":"spa","category":"retrieval_based","promptKey":"ambiguity_policy","skills":["disambiguation","safe_defaults"],"state_rules":{"strategy":["máximo 2 repreguntas","si persiste ambigüedad: ofrecer opciones concretas"],"notes":["Nunca asumir cancelación sin confirmación explícita.","Si hay draft y el usuario cambia de tema: guardar y ofrecer retomar."]},"policies":{"hotel_overrides_system":true,"fallback":"explicar qué falta y proponer siguiente paso claro"},"response_templates":{"ask_clarify":"¿Podés confirmarme {field} para continuar?","offer_options":"Puedo: {op1}, {op2} o {op3}. ¿Cuál preferís?"},"examples":[{"u":"quiero cambiar la reserva","a":"¿Querés cambiar fechas o tipo de habitación? (si confirmado: pedir código)"}],"telemetry_hints":["clarify_count","handoff_rate"],"text":"Política global de ambigüedad: 1-2 repreguntas, luego opciones claras; sin acciones destructivas sin confirmación."}
